!function(a){a.fn.reverse=[].reverse;var b=982;a.fn.touchSlider=function(c){var c=a.extend({item:"div.item",holder:"div.holder",box:"div.list",debug:!1,mode:"shift",shift:"80%",delta:40,single:!1,center:!1,animation:"auto",touch:!0,duration:500,prevLink:null,nextLink:null,StartAuto:!1,PauseOnHover:!1,AutoSlideInterval:4e3,onChange:function(){var b=a(".item.active").attr("data-item");a("[data-slider-position]").removeClass("active"),a('[data-slider-position="'+b+'"]').addClass("active")},onStart:null,onCheckItems:null,lockScroll:!1,hideClass:"mt-hidden",activeClass:"active"},c);return this.each(function(){function x(){setTimeout(B,200)}function B(b){A=h.width(),v=0;var b="undefined"!=typeof b&&b;switch(b&&a.isFunction(c.onStart)&&c.onStart(),H(),c.mode){case"index":if(c.single){b?E():(a(g[o]).css("width",A),setTimeout(G,100)),Q()}else c.center&&Q();break;case"shift":U();break;case"auto":r=[],c.single&&C(),T("both"),g.each(function(a,b){var c=this.offsetWidth,d=r.length;0==a?(c>A?r.push([c,new Array(new Array(a,c)),0]):r.push([c,new Array(new Array(a,c))]),D(a)):r[d-1][0]+c<=A?(r[d-1][0]+=c,r[d-1][1].push(new Array(a,c)),D(a)):(c>A?r.push([c,new Array(new Array(a,c)),0]):r.push([c,new Array(new Array(a,c))]),D(a))}),o>=r.length&&Y(r.length-1),c.single&&F(),a.isFunction(c.onCheckItems)&&c.onCheckItems(),R()}}function C(){a(g).css("width","")}function D(a){a==q&&Y(r.length-1)}function E(){a.each(g,function(){a(this).css("width","");var b=a(this).width();b<A&&a(this).css("width",A)})}function F(){a.each(r,function(b,c){if(c[0]<A){var d=c[0];c[0]=A,a(c[1]).each(function(b,c){c[1]=parseInt(A*c[1]/d),a(g[c[0]]).css("width",c[1])})}})}function G(){E(),Q(!0)}function H(){var c=a(".gallery-holder img");A<=b?(c.width(A),c.each(function(b){a(this).attr("src",a(this).attr("data-img-mobile"))})):(c.width("100%"),c.each(function(b){a(this).attr("src",a(this).attr("data-img-desktop"))})),G()}function J(){StartAuto=setInterval(function(){var b=parseInt(a(".item").length),c=a(".item.active").attr("data-item"),d=parseInt(c)+1;$(d<b?d:0)},c.AutoSlideInterval)}function K(){var b=a(".item");b.mouseenter(function(){clearInterval(StartAuto)}),b.mouseleave(function(){J()})}function L(a){var b=f?a.originalEvent.touches[0]:a;switch(a.type){case e[f].move:M(a,b);break;case e[f].start:N(a,b);break;case e[f].end:case e[f].leave:O(a)}}function M(a,b){y&&(c.lockScroll&&"click"!=a.type&&a.preventDefault(),v=z-b.pageX,0!=v&&da(p-v,!0))}function N(a,b){y||(w=!1,X("Touch Start"),y=!0,v=0,z=f?b.pageX:a.clientX)}function O(a,b){y&&(X("Touch End"),y=!1,z=0,0!=v&&(v>c.delta||v<0-c.delta?P():da(p))),v=0}function P(){switch(c.mode){case"shift":U();break;case"index":Q();break;case"auto":R()}}function Q(b){var d=0,e=0;if(a.each(g,function(a){a<o&&(e+=this.offsetWidth),d+=this.offsetWidth}),d<=A)return void S("both");T("both");var f=0;v>0?c.center?(f=0-(e+a(g[o]).width()+a(g[o+1]).width()/2)+A/2,o<g.length-1?(Y(o+1),Z(f),da(p)):da(p)):(f=0-(e+a(g[o]).width()),d+f>A?(Y(o+1),Z(f),da(p)):(Y(g.length-1),Z(0-(d-A)),da(p))):v<0?c.center?(f=0-(e-a(g[o-1]).width()/2)+A/2,o>0?(Y(o-1),Z(f),da(p)):da(p)):(f=0-(e-a(g[o]).width()),f<0?(Y(o-1),Z(f),da(p)):(Y(0),Z(0),da(p))):c.center?(f=0-(e+a(g[o]).width()/2)+A/2,Z(f),"undefined"==typeof b?da(p):da(p,!0)):(f=0-e,Z(f),"undefined"==typeof b?da(p):da(p,!0))}function R(){var b=0,d=0;A=h.width(),a.each(r,function(a){a<o&&(d+=this[0]),b+=this[0]});var e=r[o].length>2;if(b<=A?S("both"):T("both"),c.center&&b<A)return f=A/2-b/2,Z(f),void da(p);var f=0;v>0?o<r.length-1||o>=r.length-1&&e?e&&r[o][0]-A>r[o][2]?(r[o][2]+=A,r[o][0]-r[o][2]>A?(Z(p-A),da(p)):(Z(p-(r[o][0]-r[o][2])),r[o][2]+=r[o][0]-r[o][2],r[o][2]-=A,da(p))):"undefined"!=typeof r[o+1]?(f=r[o+1].length>2?0-(d+r[o][0]):0-(d+r[o][0]+r[o+1][0]/2)+A/2,b+f>A?(Y(o+1),Z(f),da(p)):(Y(r.length-1),Z(0-(b-A)),da(p))):da(p):da(p):v<0?o>0||o<=0&&e?e&&r[o][2]>0?(r[o][2]-=A,r[o][2]>=0?(Z(p+A),da(p)):(Z(p+(r[o][2]+A)),r[o][2]=0,da(p))):"undefined"!=typeof r[o-1]?(r[o-1].length>2?(f=0-(d-A),r[o-1][2]=r[o-1][0]-A):f=0-(d-r[o-1][0]/2)+A/2,f<0?(Y(o-1),Z(f),da(p)):(Y(0),Z(0),da(p))):da(p):da(p):(f=e?0-d:0-(d+r[o][0]/2)+A/2,f>=0?(Z(0),da(p)):b+f<=A?(Z(0-(b-A)),da(p)):(Z(f),da(p)))}function S(b){switch(b){case"both":c.prevLink&&a(c.prevLink,d).addClass(c.hideClass),c.nextLink&&a(c.nextLink,d).addClass(c.hideClass);break;case"prev":c.prevLink&&a(c.prevLink,d).addClass(c.hideClass);break;case"next":c.nextLink&&a(c.nextLink,d).addClass(c.hideClass)}A=h.width()}function T(b){switch(b){case"both":c.prevLink&&a(c.prevLink,d).removeClass(c.hideClass),c.nextLink&&a(c.nextLink,d).removeClass(c.hideClass);break;case"prev":c.prevLink&&a(c.prevLink,d).removeClass(c.hideClass);break;case"next":c.nextLink&&a(c.nextLink,d).removeClass(c.hideClass)}A=h.width()}function U(){var b=0;if(a.each(g,function(){b+=this.offsetWidth}),!(b<A)||c.center){var d=c.shift+"",e=0;d=d.indexOf("%")!=-1?parseInt(A*c.shift.substr(0,c.shift.length-1)/100):parseInt(c.shift),c.center&&b<A?(e=A/2-b/2,Z(e),da(p)):v>0?(e=p-d,b+e>A?(Z(e),da(p)):(Z(0-(b-A)),da(p))):(e=p+d,e<0?(Z(e),da(p)):(Z(0),da(p)))}}function V(){v=1,U()}function W(){v=-1,U()}function X(b,d){if("undefined"==typeof d&&(d=""),c.debug){var e=new Date;a("#console").prepend('<div class="debug-item"><strong>'+e.getMinutes()+":"+e.getSeconds()+"."+e.getMilliseconds()+"</strong> "+b+" "+d+"</div>")}}function Y(b){b!=o?(w=!0,t=o,o=b,"auto"==c.mode&&r.length?q=r[o][1][0][0]:(a(g).removeClass(c.activeClass),a(g[o]).addClass(c.activeClass)),X("Setting up current index:",b)):w=!0}function Z(a){a=parseInt(a,10),a!=p&&(u=p,p=a,X("Setting current offset:",a))}function $(a){"undefined"!=typeof g[a]&&(Y(parseInt(a)),v=0,Q())}function _(){v=1,Q()}function aa(){v=-1,Q()}function ba(){v=1,R()}function ca(){v=-1,R()}function da(b,d){var e="undefined"==typeof d?c.duration:0;if("undefined"==typeof d&&a.isFunction(c.onChange)&&w&&c.onChange(t,o),c.animation){ea();var f="undefined"==typeof d?c.duration/1e3+"s":"0";j?(i.css({"-webkit-transition-duration":f,"-moz-transition-duration":f,"transition-duration":f}),n?(X("CSS 3D Transition To:",b),i.css({"-webkit-transform":"translate3d("+b+"px,0,0)",transform:"translate3d("+b+"px,0,0)"})):(X("CSS Transition To:",b),i.css({"-webkit-transform":"translate("+b+"px,0)","-moz-transform":"translate("+b+"px,0)",transform:"translate("+b+"px,0)"}))):(X("jQuery Animate To:",b),i.animate({"margin-left":b+"px"},{queue:!1,duration:e,easing:"swing",complete:fa}))}else e&&(ea(),i.css({"margin-left":b+"px"}),fa())}function ea(){i.addClass("moving"),X("Animation start","")}function fa(){i.removeClass("moving"),X("Animation end","")}var d=jQuery(this);c.debug&&a("body").append('<div id="console"></div>');var e=[{start:"mousedown",end:"mouseup",move:"mousemove",leave:"mouseout"},{start:"touchstart",end:"touchend",move:"touchmove",leave:"touchend"}],f="ontouchend"in document?1:0,g=a(c.item,this);if(g.length){var h=a(c.holder,this).first();if(h.length){var i=a(c.box,this).first();if(i.length){var j=!1;if(c.animation&&"js"!=c.animation){var k=document.body||document.documentElement,l=k.style,m=void 0!==l.WebkitTransition?"webkitTransitionEnd":"transitionend";j=void 0!==l.WebkitTransition||void 0!==l.MozTransition||void 0!==l.transition,j&&"auto"==c.animation&&(X("Detected Transitions Support",""),i.css({"-webkit-transition-property":"-webkit-transform","-webkit-transition-timing-function":"ease","-moz-transition-property":"-moz-transform","-moz-transition-timing-function":"ease","transition-property":"transform","transition-timing-function":"ease"}),i.unbind(m),i.bind(m,fa));var n="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix;n&&X("Detected 3D Support","")}var o=null,p=null,q=0,r=[],t=null,u=null,v=0,w=!1;Y(0),Z(0),c.touch&&(i.bind(e[f].start,this,L),i.bind(e[f].end,this,L),i.bind(e[f].leave,this,L),i.bind(e[f].move,this,L)),c.prevLink&&a(c.prevLink,d).bind("click",function(){return d.get(0).movePrev(),!1}),c.nextLink&&a(c.nextLink,d).bind("click",function(){return d.get(0).moveNext(),!1}),c.StartAuto&&J(),c.StartAuto&&c.PauseOnHover&&K(),a(window).bind("onorientationchange"in window?"orientationchange":"resize",this,x),a(window).bind("load",this,x);var y=!1,z=0,A=h.width();X("Current width:",A),this.getCount=function(){return"auto"==c.mode?r.length:a(g).length},this.moveNext=function(){switch(c.mode){case"index":_();break;case"shift":V();break;case"auto":ba()}},this.movePrev=function(){switch(c.mode){case"index":aa();break;case"shift":W();break;case"auto":ca()}},this.moveTo=function(a){switch(c.mode){case"index":$(a)}},this.refresh=function(){B()},B(!0)}}}}),this}}(jQuery);